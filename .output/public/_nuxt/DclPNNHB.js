import{r as m,k as p,x as u,y as d,z as e,O as y,P as h,D as g,S as b,A as f,U as v,C as x,Q as w,R as k,W as C}from"./D0amlHy_.js";const r=m([]);function H(){function n(a){const t=r.value.find(l=>l.id===a.id);t?t.quantity+=1:r.value.push({...a,quantity:1})}function c(a){r.value=r.value.filter(t=>t.id!==a)}function i(a){const t=r.value.find(l=>l.id===a);t&&(t.quantity+=1)}function o(a){const t=r.value.find(l=>l.id===a);t&&(t.quantity-=1,t.quantity<=0&&c(a))}function s(){r.value=[]}return{cart:r,addToCart:n,removeFromCart:c,increaseQuantity:i,decreaseQuantity:o,clearCart:s}}const $={class:"flex items-center justify-between px-6 py-4 bg-white shadow"},_={class:"flex gap-4 items-center"},V={key:0,class:"badge-count"},L=Object.assign({inheritAttrs:!1},{__name:"Header",props:{modelValue:{type:String,default:""},cartCount:{type:Number,default:0}},emits:["update:modelValue","toggle-cart"],setup(n,{emit:c}){const i=n,o=c,s=p({get:()=>i.modelValue,set:a=>o("update:modelValue",a)});return(a,t)=>(d(),u("header",$,[t[3]||(t[3]=e("h1",{class:"text-xl font-bold"},"üõçÔ∏è ÂïÜÂìÅÂïÜÂüé",-1)),e("div",_,[y(e("input",{id:"search","onUpdate:modelValue":t[0]||(t[0]=l=>s.value=l),type:"text",placeholder:"ÊêúÂ∞ãÂïÜÂìÅ...","aria-label":"ÊêúÂ∞ãÂïÜÂìÅ",class:"border rounded px-3 py-2 w-64 focus:outline-none focus:ring-2 focus:ring-[#b9a2a6]"},null,512),[[h,s.value]]),e("button",{class:"btn-search relative",onClick:t[1]||(t[1]=l=>a.$emit("toggle-cart")),"aria-label":"ÈñãÂïüË≥ºÁâ©Ëªä"},[t[2]||(t[2]=g(" üõí ",-1)),n.cartCount>0?(d(),u("span",V,f(n.cartCount),1)):b("",!0)])])]))}}),q={key:0,class:"cart-drawer fixed top-0 right-0 w-80 h-full bg-white shadow-lg p-6 overflow-y-auto z-50"},N={class:"flex justify-between items-center mb-4"},j={key:0,class:"space-y-3"},B={class:"font-semibold"},T={class:"text-sm text-stone-600"},D={class:"flex items-center gap-2"},A=["onClick"],Q=["onClick"],S={key:1,class:"text-center text-stone-500 mt-10"},z={class:"absolute bottom-0 left-0 w-full p-4 bg-white border-t"},F={class:"flex justify-between items-center mb-3"},M={class:"text-lg font-bold"},O={class:"flex gap-2"},P=["disabled"],U=["disabled"],R={__name:"CartDrawer",props:{cart:{type:Array,default:()=>[]},total:{type:Number,default:0},show:{type:Boolean,default:!1}},emits:["close","increase","decrease","checkout","clear"],setup(n){const c=i=>`NT$${Math.floor(i)}`;return(i,o)=>(d(),v(C,{name:"slide"},{default:x(()=>[n.show?(d(),u("aside",q,[e("div",N,[o[3]||(o[3]=e("h2",{class:"text-lg font-bold"},"üõí Ë≥ºÁâ©Ëªä",-1)),e("button",{onClick:o[0]||(o[0]=s=>i.$emit("close")),class:"text-stone-500 hover:text-stone-700","aria-label":"ÈóúÈñâË≥ºÁâ©Ëªä"}," ‚úñ ")]),n.cart.length?(d(),u("ul",j,[(d(!0),u(w,null,k(n.cart,s=>(d(),u("li",{key:s.id,class:"flex justify-between items-center border-b pb-2"},[e("div",null,[e("p",B,f(s.name),1),e("p",T,f(c(s.price))+" √ó "+f(s.quantity),1)]),e("div",D,[e("button",{onClick:a=>i.$emit("decrease",s.id),"aria-label":"Ê∏õÂ∞ëÊï∏Èáè",class:"px-2 py-1 border rounded hover:bg-gray-100"}," ‚ûñ ",8,A),e("span",null,f(s.quantity),1),e("button",{onClick:a=>i.$emit("increase",s.id),"aria-label":"Â¢ûÂä†Êï∏Èáè",class:"px-2 py-1 border rounded hover:bg-gray-100"}," ‚ûï ",8,Q)])]))),128))])):(d(),u("p",S,"Ë≥ºÁâ©ËªäÊòØÁ©∫ÁöÑ")),e("div",z,[e("div",F,[o[4]||(o[4]=e("span",{class:"font-semibold"},"Á∏ΩÈáëÈ°ç",-1)),e("span",M,f(c(n.total)),1)]),e("div",O,[e("button",{onClick:o[1]||(o[1]=s=>i.$emit("clear")),class:"w-1/2 border border-[#b9a2a6] text-[#b9a2a6] rounded px-4 py-2 hover:bg-[#f7f5f6] transition",disabled:!n.cart.length}," Ê∏ÖÁ©∫Ë≥ºÁâ©Ëªä ",8,P),e("button",{onClick:o[2]||(o[2]=s=>i.$emit("checkout")),class:"w-1/2 bg-[#b9a2a6] text-white rounded px-4 py-2 hover:opacity-90 disabled:opacity-50 transition",disabled:!n.cart.length}," ÁµêÂ∏≥ ",8,U)])])])):b("",!0)]),_:1}))}};export{L as _,R as a,H as u};
