<template>
  <header class="flex items-center justify-between px-6 py-4 bg-white shadow">
    <h1 class="text-xl font-bold">ğŸ›ï¸ å•†å“å•†åŸ</h1>

    <div class="flex gap-4 items-center">
      <!-- æœå°‹æ¡† -->
      <input
        id="search"
        v-model="model"
        type="text"
        placeholder="æœå°‹å•†å“..."
        aria-label="æœå°‹å•†å“"
        class="border rounded px-3 py-2 w-64 focus:outline-none focus:ring-2 focus:ring-[#b9a2a6]"
      />

      <!-- è³¼ç‰©è»ŠæŒ‰éˆ• -->
      <button
        class="btn-search relative"
        @click="$emit('toggle-cart')"
        aria-label="é–‹å•Ÿè³¼ç‰©è»Š"
      >
        ğŸ›’
        <span class="badge-count" v-if="cartCount > 0">
          {{ cartCount }}
        </span>
      </button>
    </div>
  </header>
</template>

<script setup>
import { computed } from 'vue'

defineOptions({ inheritAttrs: false })

const props = defineProps({
  modelValue: { type: String, default: '' },
  cartCount: { type: Number, default: 0 }
})

const emit = defineEmits(['update:modelValue', 'toggle-cart'])

const model = computed({
  get: () => props.modelValue,
  set: val => emit('update:modelValue', val)
})
</script>
