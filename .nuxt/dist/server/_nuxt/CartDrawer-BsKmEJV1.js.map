{"version":3,"file":"CartDrawer-BsKmEJV1.js","sources":["../../../../composables/useCart.js","../../../../components/Header.vue","../../../../components/CartDrawer.vue"],"sourcesContent":["import { ref } from 'vue'\r\n\r\nconst cart = ref([])\r\n\r\nexport function useCart() {\r\n  // ‚ûï Âä†ÂÖ•Ë≥ºÁâ©Ëªä\r\n  function addToCart(product) {\r\n    const existing = cart.value.find(item => item.id === product.id)\r\n    if (existing) {\r\n      existing.quantity += 1\r\n    } else {\r\n      cart.value.push({ ...product, quantity: 1 })\r\n    }\r\n  }\r\n\r\n  // ‚ùå ÁßªÈô§ÂñÆ‰∏ÄÂïÜÂìÅ\r\n  function removeFromCart(productId) {\r\n    cart.value = cart.value.filter(item => item.id !== productId)\r\n  }\r\n\r\n  // ‚¨Ü Â¢ûÂä†Êï∏Èáè\r\n  function increaseQuantity(productId) {\r\n    const item = cart.value.find(i => i.id === productId)\r\n    if (item) item.quantity += 1\r\n  }\r\n\r\n  // ‚¨á Ê∏õÂ∞ëÊï∏Èáè\r\n  function decreaseQuantity(productId) {\r\n    const item = cart.value.find(i => i.id === productId)\r\n    if (item) {\r\n      item.quantity -= 1\r\n      if (item.quantity <= 0) removeFromCart(productId)\r\n    }\r\n  }\r\n\r\n  // üßπ Ê∏ÖÁ©∫Ë≥ºÁâ©Ëªä\r\n  function clearCart() {\r\n    cart.value = []\r\n  }\r\n\r\n  return {\r\n    cart,\r\n    addToCart,\r\n    removeFromCart,\r\n    increaseQuantity,\r\n    decreaseQuantity,\r\n    clearCart\r\n  }\r\n}\r\n","<template>\r\n  <header class=\"flex items-center justify-between px-6 py-4 bg-white shadow\">\r\n    <h1 class=\"text-xl font-bold\">üõçÔ∏è ÂïÜÂìÅÂïÜÂüé</h1>\r\n\r\n    <div class=\"flex gap-4 items-center\">\r\n      <!-- ÊêúÂ∞ãÊ°Ü -->\r\n      <input\r\n        id=\"search\"\r\n        v-model=\"model\"\r\n        type=\"text\"\r\n        placeholder=\"ÊêúÂ∞ãÂïÜÂìÅ...\"\r\n        aria-label=\"ÊêúÂ∞ãÂïÜÂìÅ\"\r\n        class=\"border rounded px-3 py-2 w-64 focus:outline-none focus:ring-2 focus:ring-[#b9a2a6]\"\r\n      />\r\n\r\n      <!-- Ë≥ºÁâ©ËªäÊåâÈàï -->\r\n      <button\r\n        class=\"btn-search relative\"\r\n        @click=\"$emit('toggle-cart')\"\r\n        aria-label=\"ÈñãÂïüË≥ºÁâ©Ëªä\"\r\n      >\r\n        üõí\r\n        <span class=\"badge-count\" v-if=\"cartCount > 0\">\r\n          {{ cartCount }}\r\n        </span>\r\n      </button>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\n\r\ndefineOptions({ inheritAttrs: false })\r\n\r\nconst props = defineProps({\r\n  modelValue: { type: String, default: '' },\r\n  cartCount: { type: Number, default: 0 }\r\n})\r\n\r\nconst emit = defineEmits(['update:modelValue', 'toggle-cart'])\r\n\r\nconst model = computed({\r\n  get: () => props.modelValue,\r\n  set: val => emit('update:modelValue', val)\r\n})\r\n</script>\r\n","<template>\r\n  <transition name=\"slide\">\r\n    <aside\r\n      v-if=\"show\"\r\n      class=\"cart-drawer fixed top-0 right-0 w-80 h-full bg-white shadow-lg p-6 overflow-y-auto z-50\"\r\n    >\r\n      <!-- Header -->\r\n      <div class=\"flex justify-between items-center mb-4\">\r\n        <h2 class=\"text-lg font-bold\">üõí Ë≥ºÁâ©Ëªä</h2>\r\n        <button\r\n          @click=\"$emit('close')\"\r\n          class=\"text-stone-500 hover:text-stone-700\"\r\n          aria-label=\"ÈóúÈñâË≥ºÁâ©Ëªä\"\r\n        >\r\n          ‚úñ\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Cart Items -->\r\n      <ul v-if=\"cart.length\" class=\"space-y-3\">\r\n        <li\r\n          v-for=\"item in cart\"\r\n          :key=\"item.id\"\r\n          class=\"flex justify-between items-center border-b pb-2\"\r\n        >\r\n          <div>\r\n            <p class=\"font-semibold\">{{ item.name }}</p>\r\n            <p class=\"text-sm text-stone-600\">\r\n              {{ formatPrice(item.price) }} √ó {{ item.quantity }}\r\n            </p>\r\n          </div>\r\n          <div class=\"flex items-center gap-2\">\r\n            <button\r\n              @click=\"$emit('decrease', item.id)\"\r\n              aria-label=\"Ê∏õÂ∞ëÊï∏Èáè\"\r\n              class=\"px-2 py-1 border rounded hover:bg-gray-100\"\r\n            >\r\n              ‚ûñ\r\n            </button>\r\n            <span>{{ item.quantity }}</span>\r\n            <button\r\n              @click=\"$emit('increase', item.id)\"\r\n              aria-label=\"Â¢ûÂä†Êï∏Èáè\"\r\n              class=\"px-2 py-1 border rounded hover:bg-gray-100\"\r\n            >\r\n              ‚ûï\r\n            </button>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n\r\n      <!-- Empty Cart -->\r\n      <p v-else class=\"text-center text-stone-500 mt-10\">Ë≥ºÁâ©ËªäÊòØÁ©∫ÁöÑ</p>\r\n\r\n      <!-- Footer -->\r\n      <div class=\"absolute bottom-0 left-0 w-full p-4 bg-white border-t\">\r\n        <div class=\"flex justify-between items-center mb-3\">\r\n          <span class=\"font-semibold\">Á∏ΩÈáëÈ°ç</span>\r\n          <span class=\"text-lg font-bold\">{{ formatPrice(total) }}</span>\r\n        </div>\r\n\r\n        <!-- Ê∏ÖÁ©∫Ë≥ºÁâ©Ëªä + ÁµêÂ∏≥ -->\r\n        <div class=\"flex gap-2\">\r\n          <!-- Ê∏ÖÁ©∫Ë≥ºÁâ©ËªäÔºàÈÇäÊ°ÜÊåâÈàïÔºâ -->\r\n          <button\r\n            @click=\"$emit('clear')\"\r\n            class=\"w-1/2 border border-[#b9a2a6] text-[#b9a2a6] rounded px-4 py-2 hover:bg-[#f7f5f6] transition\"\r\n            :disabled=\"!cart.length\"\r\n          >\r\n            Ê∏ÖÁ©∫Ë≥ºÁâ©Ëªä\r\n          </button>\r\n\r\n          <!-- ÁµêÂ∏≥Ôºà‰∏ªËâ≤Ôºâ -->\r\n          <button\r\n            @click=\"$emit('checkout')\"\r\n            class=\"w-1/2 bg-[#b9a2a6] text-white rounded px-4 py-2 hover:opacity-90 disabled:opacity-50 transition\"\r\n            :disabled=\"!cart.length\"\r\n          >\r\n            ÁµêÂ∏≥\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n    </aside>\r\n  </transition>\r\n</template>\r\n\r\n<script setup>\r\nconst props = defineProps({\r\n  cart: { type: Array, default: () => [] },\r\n  total: { type: Number, default: 0 },\r\n  show: { type: Boolean, default: false }\r\n})\r\n\r\ndefineEmits(['close', 'increase', 'decrease', 'checkout', 'clear'])\r\n\r\n// ÂÉπÊ†ºÊ†ºÂºèÂåñÔºàÂèñÊï¥Êï∏Ôºâ\r\nconst formatPrice = (value) => {\r\n  return `NT$${Math.floor(value)}`\r\n}\r\n</script>\r\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrInterpolate","_ssrIncludeBooleanAttr"],"mappings":";;AAEA,MAAM,OAAO,IAAI,EAAE;AAEZ,SAAS,UAAU;AAExB,WAAS,UAAU,SAAS;AAC1B,UAAM,WAAW,KAAK,MAAM,KAAK,UAAQ,KAAK,OAAO,QAAQ,EAAE;AAC/D,QAAI,UAAU;AACZ,eAAS,YAAY;AAAA,IACvB,OAAO;AACL,WAAK,MAAM,KAAK,EAAE,GAAG,SAAS,UAAU,GAAG;AAAA,IAC7C;AAAA,EACF;AAGA,WAAS,eAAe,WAAW;AACjC,SAAK,QAAQ,KAAK,MAAM,OAAO,UAAQ,KAAK,OAAO,SAAS;AAAA,EAC9D;AAGA,WAAS,iBAAiB,WAAW;AACnC,UAAM,OAAO,KAAK,MAAM,KAAK,OAAK,EAAE,OAAO,SAAS;AACpD,QAAI,KAAM,MAAK,YAAY;AAAA,EAC7B;AAGA,WAAS,iBAAiB,WAAW;AACnC,UAAM,OAAO,KAAK,MAAM,KAAK,OAAK,EAAE,OAAO,SAAS;AACpD,QAAI,MAAM;AACR,WAAK,YAAY;AACjB,UAAI,KAAK,YAAY,EAAG,gBAAe,SAAS;AAAA,IAClD;AAAA,EACF;AAGA,WAAS,YAAY;AACnB,SAAK,QAAQ,CAAA;AAAA,EACf;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AACA;;;;;;;;;;ACbA,UAAM,QAAQ;AAKd,UAAM,OAAO;AAEb,UAAM,QAAQ,SAAS;AAAA,MACrB,KAAK,MAAM,MAAM;AAAA,MACjB,KAAK,SAAO,KAAK,qBAAqB,GAAG;AAAA,IAC3C,CAAC;;sBA5CSA,eAAAC,WAAA,EAAA,OAAM,8DAA6D,GAAA,MAAA,CAAA,8HAO5D,MAAA,KAAK;UAckB,QAAA,YAAS,GAAA;0DACpC,QAAA,SAAS,CAAA,SAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;AC0EtB,UAAM,cAAc,CAAC,UAAU;AAC7B,aAAO,MAAM,KAAK,MAAM,KAAK,CAAC;AAAA,IAChC;;UAhGY,QAAA,MAAI;AACV,cAAA,SAAAD,eAAAC,WAAA,EAAA,OAAM,6FAAyF,MAAA,CAAA,CAAA,yLAAA;AAerF,YAAA,QAAA,KAAK,QAAM;;AAEFC,wBAAA,QAAA,OAAR,SAAI;+GAKmBC,eAAA,KAAK,IAAI,yDAEhC,YAAY,KAAK,KAAK,CAAA,OAAUA,eAAA,KAAK,QAAQ,kJAWzCA,eAAA,KAAK,QAAQ;;;;;;8MAmBWA,eAAA,YAAY,QAAA,KAAK,CAAA,qJAStCC,sBAAA,CAAA,QAAA,KAAK,MAAM,IAAA,cAAA,qIASXA,sBAAA,CAAA,QAAA,KAAK,MAAM,IAAA,cAAA;;;;;;;;;;;;;"}